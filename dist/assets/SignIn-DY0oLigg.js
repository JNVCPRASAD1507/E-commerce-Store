import{n as g,j as e,C as w,B as l,T as d,k as m}from"./index-CX73dulP.js";import{c as f,a as u,F as j,b as S,d as c,T as x}from"./index.esm-DGuUEV4U.js";const v=({setIsAuthenticated:i})=>{const o=g(),h=f({username:u().required("Username is required"),password:u().required("Password is required")}),p=(a,{setSubmitting:s})=>{(JSON.parse(localStorage.getItem("users"))||[]).find(r=>r.username===a.username&&r.password===a.password)?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("username",a.username),i&&i(!0),o("/productPage")):alert("Invalid username or password."),s(!1)};return e.jsx(w,{maxWidth:"xs",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:e.jsxs(l,{sx:{width:"100%",maxWidth:400,mt:0,p:3,boxShadow:13,borderRadius:2,backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(d,{variant:"h5",align:"center",gutterBottom:!0,sx:{width:"100%"},children:"Sign In"}),e.jsx(j,{initialValues:{username:"",password:""},validationSchema:h,onSubmit:p,children:({errors:a,touched:s,handleChange:n,handleBlur:t,isSubmitting:r})=>e.jsxs(S,{style:{width:"100%"},children:[e.jsx(c,{as:x,name:"username",label:"Username",fullWidth:!0,margin:"normal",variant:"outlined",onChange:n,onBlur:t,error:s.username&&!!a.username,helperText:s.username&&a.username}),e.jsx(c,{as:x,name:"password",label:"Password",type:"password",fullWidth:!0,margin:"normal",variant:"outlined",onChange:n,onBlur:t,error:s.password&&!!a.password,helperText:s.password&&a.password}),e.jsx(m,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:r,sx:{mt:2},children:"Sign In"})]})}),e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",mt:2},children:[e.jsx(d,{align:"center",sx:{mb:1},children:"Don't have an account?"}),e.jsx(m,{variant:"text",fullWidth:!0,onClick:()=>o("/"),sx:{maxWidth:200},children:"Sign Up"})]})]})})};export{v as default};
